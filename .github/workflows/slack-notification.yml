name: Slack Notification on Push

on:
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]

jobs:
  notify-slack:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v3
      
    - name: Send Slack notification
      uses: 8398a7/action-slack@v3
      with:
        status: ${{ job.status }}
        channel: 'C09DC2W6YBD'
        webhook_url: ${{ secrets.SLACK_WEBHOOK_URL }}
        text: |
          🚀 JOBER_AI GitHub 업데이트 알림
          
          📋 커밋 정보:
          • 작성자: ${{ github.actor }}
          • 커밋: ${{ github.sha }}
          • 브랜치: ${{ github.ref }}
          • 메시지: ${{ github.event.head_commit.message }}
          
          🔗 변경사항 보기: ${{ github.event.head_commit.url }}
      if: always()